# Лабораторная работа №1

Разработать спецификацию в формате OpenAPI для набора веб-сервисов, реализующего следующую функциональность:

Первый веб-сервис должен осуществлять управление коллекцией объектов. В коллекции необходимо хранить объекты класса `LabWork`, описание которого приведено ниже:

```
    public class LabWork {
    private Integer id; //Поле не может быть null, Значение поля должно быть больше 0, Значение этого поля должно быть уникальным, Значение этого поля должно генерироваться автоматически
    private String name; //Поле не может быть null, Строка не может быть пустой
    private Coordinates coordinates; //Поле не может быть null
    private java.time.ZonedDateTime creationDate; //Поле не может быть null, Значение этого поля должно генерироваться автоматически
    private double minimalPoint; //Значение поля должно быть больше 0
    private String description; //Длина строки не должна быть больше 8818, Поле может быть null
    private Long tunedInWorks; //Поле может быть null
    private Difficulty difficulty; //Поле не может быть null
    private Discipline discipline; //Поле не может быть null
    }
    public class Coordinates {
    private double x;
    private Long y; //Поле не может быть null
    }
    public class Discipline {
    private String name; //Поле не может быть null, Строка не может быть пустой
    private Integer labsCount; //Поле не может быть null
    }
    public enum Difficulty {
    NORMAL,
    HARD,
    VERY_HARD,
    IMPOSSIBLE,
    TERRIBLE;
    }
```
**Веб-сервис должен удовлетворять следующим требованиям:**

* API, реализуемый сервисом, должен соответствовать рекомендациям подхода RESTful.
* Необходимо реализовать следующий базовый набор операций с объектами коллекции: добавление нового элемента, получение элемента по ИД, обновление элемента, удаление элемента, получение массива элементов.
* Операция, выполняемая над объектом коллекции, должна определяться методом HTTP-запроса.
* Операция получения массива элементов должна поддерживать возможность сортировки и фильтрации по любой комбинации полей класса, а также возможность постраничного вывода результатов выборки с указанием размера и порядкового номера выводимой страницы.
* Все параметры, необходимые для выполнения операции, должны передаваться в URL запроса.
* Информация об объектах коллекции должна передаваться в формате xml.
* В случае передачи сервису данных, нарушающих заданные на уровне класса ограничения целостности, сервис должен возвращать код ответа http, соответствующий произошедшей ошибке.

**Помимо базового набора, веб-сервис должен поддерживать следующие операции над объектами коллекции:**

* Вернуть один (любой) объект, значение поля tunedInWorks которого является максимальным.
* Сгруппировать объекты по значению поля description, вернуть количество элементов в каждой группе.
* Вернуть количество объектов, значение поля minimalPoint которых меньше заданного.
* Эти операции должны размещаться на отдельных URL.

**Второй веб-сервис**  должен располагаться на URL `/bars`, и реализовывать ряд дополнительных операций, связанных с вызовом API первого сервиса:

* `/labwork/{labwork-id}/difficulty/decrease/{steps-count}` : понизить сложность заданной лабораторной работы на указанное число "шагов"
* `/discipline/{discipline-id}/labwork/{labwork-id}/remove` : удалить лабораторную работу из программы дисциплины

Эти операции также должны размещаться на отдельных URL.

Для разработанной спецификации необходимо сгенерировать интерактивную веб-документацию с помощью Swagger UI. Документация должна содержать описание всех REST API обоих сервисов с текстовым описанием функциональности каждой операции. Созданную веб-документацию необходимо развернуть на сервере helios.

**Вопросы к защите лабораторной работы:**

1. Подходы к проектированию приложений. "Монолитная" и сервис-ориентированная архитектура.
2. Понятие сервиса. Общие свойства сервисов.
3. Основные принципы SOA. Подходы к реализации SOA, стандарты и протоколы.
4. Общие принципы построения и элементы сервис-ориентированных систем.
5. Понятие веб-сервиса. Определение, особенности, отличия от веб-приложений.
6. Категоризация веб-сервисов. RESTful и SOAP. Сходства и отличия, области применения.
7. RESTful веб-сервисы. Особенности подхода. Понятия ресурса, URI и полезной нагрузки (payload).
8. Виды RESTful-сервисов. Интерпретация методов HTTP в RESTful.
9. Правила именования ресурсов в RESTful сервисах.
10. Спецификация RESTful-сервисов. Стандарт OpenAPI.
11. Автодокументирование RESTful-сервисов. Swagger Editor, Swagger UI (и Swagger Codegen).
12. Архитектурный принцип HATEOAS.